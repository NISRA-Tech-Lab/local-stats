import{S as be,i as ke,s as ve,k as E,a as P,l as w,m as N,c as M,h as k,n as C,Z as L,b as I,C as v,G as S,D as q,I as H,U as Ce,p as Ee,a6 as W,w as Y,q as U,r as R,u as Z,e as K,Y as re}from"./index.baf6a862.js";import{j as we}from"./singletons.15f957d4.js";var X={},G={},J=34,B=10,Q=13;function ie(l){return new Function("d","return {"+l.map(function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'}).join(",")+"}")}function Ne(l,e){var t=ie(l);return function(n,s){return e(t(n),s,l)}}function x(l){var e=Object.create(null),t=[];return l.forEach(function(n){for(var s in n)s in e||t.push(e[s]=s)}),t}function T(l,e){var t=l+"",n=t.length;return n<e?new Array(e-n+1).join(0)+t:t}function Te(l){return l<0?"-"+T(-l,6):l>9999?"+"+T(l,6):T(l,4)}function ye(l){var e=l.getUTCHours(),t=l.getUTCMinutes(),n=l.getUTCSeconds(),s=l.getUTCMilliseconds();return isNaN(l)?"Invalid Date":Te(l.getUTCFullYear())+"-"+T(l.getUTCMonth()+1,2)+"-"+T(l.getUTCDate(),2)+(s?"T"+T(e,2)+":"+T(t,2)+":"+T(n,2)+"."+T(s,3)+"Z":n?"T"+T(e,2)+":"+T(t,2)+":"+T(n,2)+"Z":t||e?"T"+T(e,2)+":"+T(t,2)+"Z":"")}function Ae(l){var e=new RegExp('["'+l+`
\r]`),t=l.charCodeAt(0);function n(r,f){var _,p,m=s(r,function(g,b){if(_)return _(g,b-1);p=g,_=f?Ne(g,f):ie(g)});return m.columns=p||[],m}function s(r,f){var _=[],p=r.length,m=0,g=0,b,A=p<=0,y=!1;r.charCodeAt(p-1)===B&&--p,r.charCodeAt(p-1)===Q&&--p;function D(){if(A)return G;if(y)return y=!1,X;var j,V=m,F;if(r.charCodeAt(V)===J){for(;m++<p&&r.charCodeAt(m)!==J||r.charCodeAt(++m)===J;);return(j=m)>=p?A=!0:(F=r.charCodeAt(m++))===B?y=!0:F===Q&&(y=!0,r.charCodeAt(m)===B&&++m),r.slice(V+1,j-1).replace(/""/g,'"')}for(;m<p;){if((F=r.charCodeAt(j=m++))===B)y=!0;else if(F===Q)y=!0,r.charCodeAt(m)===B&&++m;else if(F!==t)continue;return r.slice(V,j)}return A=!0,r.slice(V,p)}for(;(b=D())!==G;){for(var O=[];b!==X&&b!==G;)O.push(b),b=D();f&&(O=f(O,g++))==null||_.push(O)}return _}function o(r,f){return r.map(function(_){return f.map(function(p){return a(_[p])}).join(l)})}function i(r,f){return f==null&&(f=x(r)),[f.map(a).join(l)].concat(o(r,f)).join(`
`)}function h(r,f){return f==null&&(f=x(r)),o(r,f).join(`
`)}function d(r){return r.map(c).join(`
`)}function c(r){return r.map(a).join(l)}function a(r){return r==null?"":r instanceof Date?ye(r):e.test(r+="")?'"'+r.replace(/"/g,'""')+'"':r}return{parse:n,parseRows:s,format:i,formatBody:h,formatRows:d,formatRow:c,formatValue:a}}var Se=Ae(","),Ie=Se.parse;function De(l){for(var e in l){var t=l[e].trim(),n,s;if(!t)t=null;else if(t==="true")t=!0;else if(t==="false")t=!1;else if(t==="NaN")t=NaN;else if(!isNaN(n=+t))t=n;else if(s=t.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))Le&&s[4]&&!s[7]&&(t=t.replace(/-/g,"/").replace(/T/," ")),t=new Date(t);else continue;l[e]=t}return l}const Le=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();async function qe(l,e=window.fetch){let n=await(await e(l)).text();return await Ie(n,De)}function Ke(l){let e=Math.round(l)%10;return l==11?"th":e==1?"st":e==2?"nd":e==3?"rd":"th"}function ze(l){return l>0?"increase":l<0?"decrease":"nochange"}function Ge(l,e="",t=0){return l!=0?Math.abs(l).toFixed(t)+e:e=="pp"?"n/c":"No change"}function Je(l,e="",t=0){return l!=0?Math.abs(l).toFixed(t)+e:e=="pp"?"n/c":"<1%)"}function $(l,e,t){const n=l.slice();return n[33]=e[t],n[36]=e,n[35]=t,n}function ee(l,e,t){const n=l.slice();return n[33]=e[t],n[34]=e,n[35]=t,n}function Ue(l){let e,t,n=(l[0]?l[0]:"Select one")+"",s,o,i,h,d,c;return{c(){e=E("a"),t=E("span"),s=U(n),o=P(),i=E("span"),h=U(" "),this.h()},l(a){e=w(a,"A",{id:!0,class:!0});var r=N(e);t=w(r,"SPAN",{class:!0});var f=N(t);s=R(f,n),f.forEach(k),o=M(r),i=w(r,"SPAN",{class:!0});var _=N(i);h=R(_," "),_.forEach(k),r.forEach(k),this.h()},h(){C(t,"class","svelte-55d6s8"),C(i,"class","button svelte-55d6s8"),L(i,"search",l[3]),L(i,"down",!l[3]),C(e,"id","toggle"),C(e,"class","svelte-55d6s8")},m(a,r){I(a,e,r),v(e,t),v(t,s),v(e,o),v(e,i),v(i,h),d||(c=S(e,"click",l[12]),d=!0)},p(a,r){r[0]&1&&n!==(n=(a[0]?a[0]:"Select one")+"")&&Z(s,n),r[0]&8&&L(i,"search",a[3]),r[0]&8&&L(i,"down",!a[3])},d(a){a&&k(e),d=!1,c()}}}function Re(l){let e,t,n=l[5][l[1]]+"",s,o,i,h,d,c,a,r=l[2]&&te(l);return{c(){e=E("a"),t=E("span"),s=U(n),o=P(),r&&r.c(),i=P(),h=E("span"),d=U(" "),this.h()},l(f){e=w(f,"A",{id:!0,class:!0});var _=N(e);t=w(_,"SPAN",{class:!0});var p=N(t);s=R(p,n),o=M(p),r&&r.l(p),p.forEach(k),i=M(_),h=w(_,"SPAN",{class:!0});var m=N(h);d=R(m," "),m.forEach(k),_.forEach(k),this.h()},h(){C(t,"class","selection svelte-55d6s8"),C(h,"class","button close svelte-55d6s8"),C(e,"id","toggle"),C(e,"class","selected svelte-55d6s8")},m(f,_){I(f,e,_),v(e,t),v(t,s),v(t,o),r&&r.m(t,null),v(e,i),v(e,h),v(h,d),c||(a=[S(h,"click",l[14]),S(e,"click",l[12])],c=!0)},p(f,_){_[0]&34&&n!==(n=f[5][f[1]]+"")&&Z(s,n),f[2]?r?r.p(f,_):(r=te(f),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},d(f){f&&k(e),r&&r.d(),c=!1,H(a)}}}function te(l){let e,t=l[5][l[2]]+"",n;return{c(){e=E("small"),n=U(t),this.h()},l(s){e=w(s,"SMALL",{class:!0});var o=N(e);n=R(o,t),o.forEach(k),this.h()},h(){C(e,"class","svelte-55d6s8")},m(s,o){I(s,e,o),v(e,n)},p(s,o){o[0]&36&&t!==(t=s[5][s[2]]+"")&&Z(n,t)},d(s){s&&k(e)}}}function le(l){let e,t,n,s,o,i;function h(a,r){return a[4].length<3?Fe:a[8][0]&&a[2]?Me:a[8][0]?Pe:je}let d=h(l),c=d(l);return{c(){e=E("div"),t=E("input"),n=P(),s=E("ul"),c.c(),this.h()},l(a){e=w(a,"DIV",{id:!0,style:!0,class:!0});var r=N(e);t=w(r,"INPUT",{type:!0,placeholder:!0,autocomplete:!0,onfocus:!0,class:!0}),n=M(r),s=w(r,"UL",{class:!0});var f=N(s);c.l(f),f.forEach(k),r.forEach(k),this.h()},h(){C(t,"type","text"),C(t,"placeholder",""),C(t,"autocomplete","false"),t.autofocus="autofocus",C(t,"onfocus","this.select()"),C(t,"class","svelte-55d6s8"),C(s,"class","svelte-55d6s8"),C(e,"id","dropdown"),Ee(e,"top","0"),C(e,"class","svelte-55d6s8")},m(a,r){I(a,e,r),v(e,t),W(t,l[4]),l[24](t),v(e,n),v(e,s),c.m(s,null),l[31](e),t.focus(),o||(i=[S(t,"input",l[23]),S(t,"keyup",l[16])],o=!0)},p(a,r){r[0]&16&&t.value!==a[4]&&W(t,a[4]),d===(d=h(a))&&c?c.p(a,r):(c.d(1),c=d(a),c&&(c.c(),c.m(s,null)))},d(a){a&&k(e),l[24](null),c.d(),l[31](null),o=!1,H(i)}}}function je(l){let e,t;return{c(){e=E("li"),t=U("No results"),this.h()},l(n){e=w(n,"LI",{class:!0});var s=N(e);t=R(s,"No results"),s.forEach(k),this.h()},h(){C(e,"class","svelte-55d6s8")},m(n,s){I(n,e,s),v(e,t)},p:q,d(n){n&&k(e)}}}function Pe(l){let e,t=l[8],n=[];for(let s=0;s<t.length;s+=1)n[s]=ne($(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=K()},l(s){for(let o=0;o<n.length;o+=1)n[o].l(s);e=K()},m(s,o){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(s,o);I(s,e,o)},p(s,o){if(o[0]&10626){t=s[8];let i;for(i=0;i<t.length;i+=1){const h=$(s,t,i);n[i]?n[i].p(h,o):(n[i]=ne(h),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(s){re(n,s),s&&k(e)}}}function Me(l){let e,t=l[8],n=[];for(let s=0;s<t.length;s+=1)n[s]=se(ee(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=K()},l(s){for(let o=0;o<n.length;o+=1)n[o].l(s);e=K()},m(s,o){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(s,o);I(s,e,o)},p(s,o){if(o[0]&10630){t=s[8];let i;for(i=0;i<t.length;i+=1){const h=ee(s,t,i);n[i]?n[i].p(h,o):(n[i]=se(h),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(s){re(n,s),s&&k(e)}}}function Fe(l){let e,t;return{c(){e=E("li"),t=U("Type a name..."),this.h()},l(n){e=w(n,"LI",{class:!0});var s=N(e);t=R(s,"Type a name..."),s.forEach(k),this.h()},h(){C(e,"class","svelte-55d6s8")},m(n,s){I(n,e,s),v(e,t)},p:q,d(n){n&&k(e)}}}function ne(l){let e,t=l[33][l[1]]+"",n,s,o=l[35],i,h;function d(){return l[28](l[33])}function c(){return l[29](l[35])}const a=()=>l[30](e,o),r=()=>l[30](null,o);return{c(){e=E("li"),n=U(t),s=P(),this.h()},l(f){e=w(f,"LI",{class:!0});var _=N(e);n=R(_,t),s=M(_),_.forEach(k),this.h()},h(){C(e,"class","svelte-55d6s8"),L(e,"highlight",l[7]==l[35])},m(f,_){I(f,e,_),v(e,n),v(e,s),a(),i||(h=[S(e,"click",d),S(e,"mouseover",c)],i=!0)},p(f,_){l=f,_[0]&258&&t!==(t=l[33][l[1]]+"")&&Z(n,t),o!==l[35]&&(r(),o=l[35],a()),_[0]&128&&L(e,"highlight",l[7]==l[35])},d(f){f&&k(e),r(),i=!1,H(h)}}}function se(l){let e,t=l[33][l[1]]+"",n,s,o,i=l[33][l[2]]+"",h,d,c=l[35],a,r;function f(){return l[25](l[33])}function _(){return l[26](l[35])}const p=()=>l[27](e,c),m=()=>l[27](null,c);return{c(){e=E("li"),n=U(t),s=P(),o=E("small"),h=U(i),d=P(),this.h()},l(g){e=w(g,"LI",{class:!0});var b=N(e);n=R(b,t),s=M(b),o=w(b,"SMALL",{class:!0});var A=N(o);h=R(A,i),A.forEach(k),d=M(b),b.forEach(k),this.h()},h(){C(o,"class","svelte-55d6s8"),C(e,"class","svelte-55d6s8"),L(e,"highlight",l[7]==l[35])},m(g,b){I(g,e,b),v(e,n),v(e,s),v(e,o),v(o,h),v(e,d),p(),a||(r=[S(e,"click",f),S(e,"mouseover",_)],a=!0)},p(g,b){l=g,b[0]&258&&t!==(t=l[33][l[1]]+"")&&Z(n,t),b[0]&260&&i!==(i=l[33][l[2]]+"")&&Z(h,i),c!==l[35]&&(m(),c=l[35],p()),b[0]&128&&L(e,"highlight",l[7]==l[35])},d(g){g&&k(e),m(),a=!1,H(r)}}}function Oe(l){let e,t,n,s;function o(c,a){return c[5]&&!c[3]?Re:Ue}let i=o(l),h=i(l),d=l[6]&&le(l);return{c(){e=E("div"),h.c(),t=P(),d&&d.c(),this.h()},l(c){e=w(c,"DIV",{id:!0,class:!0});var a=N(e);h.l(a),t=M(a),d&&d.l(a),a.forEach(k),this.h()},h(){C(e,"id","select"),C(e,"class","svelte-55d6s8"),L(e,"active",l[6])},m(c,a){I(c,e,a),h.m(e,null),v(e,t),d&&d.m(e,null),n||(s=[S(window,"click",l[17]),S(e,"keydown",l[15])],n=!0)},p(c,a){i===(i=o(c))&&h?h.p(c,a):(h.d(1),h=i(c),h&&(h.c(),h.m(e,t))),c[6]?d?d.p(c,a):(d=le(c),d.c(),d.m(e,null)):d&&(d.d(1),d=null),a[0]&64&&L(e,"active",c[6])},i:q,o:q,d(c){c&&k(e),h.d(),d&&d.d(),n=!1,H(s)}}}function Ve(l){return new Promise(e=>setTimeout(e,l))}function Ze(l){return l.length>5&&l.substr(0,2).toUpperCase()=="BT"&&l.indexOf(" ")==-1&&(l=l.slice(0,-3)+" "+l.substr(-3)),l}function Be(l,e,t){let n;const s=Ce();let{search_data:o}=e,{selected:i=null}=e,{placeholder:h="Enter a town, postcode or area name"}=e,{value:d="code"}=e,{label:c="name"}=e,{group:a=null}=e,{search:r=!1}=e,f=i,_=i?o.find(u=>{u[d]==i[d]}):null,p=!1,m="",g=null,b,A,y,D=[];function O(u){u.stopPropagation(),t(4,m=""),t(6,p=!p),Ve(10).then(()=>{y&&p&&y.focus()})}function j(u){t(18,i=u),t(6,p=!1),s("select",{selected:u,value:u[d]})}function V(u){u.stopPropagation(),t(18,i=null),t(21,f=null),t(5,_=null),s("select",{selected:null,value:null})}function F(u){p&&b[0]&&Number.isInteger(g)&&(u.keyCode===38?(t(7,g-=g>0?1:0),D[g].scrollIntoView({block:"nearest",inline:"start"})):u.keyCode===40&&(t(7,g+=g<b.length-1?1:0),D[g].scrollIntoView({block:"nearest",inline:"end"})))}function oe(u){b[0]&&Number.isInteger(g)&&u.keyCode===13&&j(b[g])}function ae(u){u.target!==A&&(t(6,p=!1),t(7,g=0))}function ue(){m=this.value,t(4,m)}function ce(u){Y[u?"unshift":"push"](()=>{y=u,t(10,y)})}const fe=u=>j(u),he=u=>t(7,g=u);function de(u,z){Y[u?"unshift":"push"](()=>{D[z]=u,t(11,D)})}const _e=u=>j(u),pe=u=>t(7,g=u);function ge(u,z){Y[u?"unshift":"push"](()=>{D[z]=u,t(11,D)})}function me(u){Y[u?"unshift":"push"](()=>{A=u,t(9,A)})}return l.$$set=u=>{"search_data"in u&&t(19,o=u.search_data),"selected"in u&&t(18,i=u.selected),"placeholder"in u&&t(0,h=u.placeholder),"value"in u&&t(20,d=u.value),"label"in u&&t(1,c=u.label),"group"in u&&t(2,a=u.group),"search"in u&&t(3,r=u.search)},l.$$.update=()=>{l.$$.dirty[0]&16&&t(22,n=m?new RegExp(Ze(m),"i"):null),l.$$.dirty[0]&4718594&&(t(8,b=n?o.filter(u=>n.test(u[c])):o),t(7,g=0)),l.$$.dirty[0]&3932160&&f!=i&&(t(5,_=o.find(u=>u[d]==i[d])),t(21,f=i))},[h,c,a,r,m,_,p,g,b,A,y,D,O,j,V,F,oe,ae,i,o,d,f,n,ue,ce,fe,he,de,_e,pe,ge,me]}class Qe extends be{constructor(e){super(),ke(this,e,Be,Oe,ve,{search_data:19,selected:18,placeholder:0,value:20,label:1,group:2,search:3},null,[-1,-1])}}const We=we("goto");export{Qe as S,We as a,ze as b,Je as c,Ge as d,qe as g,Ke as s};
