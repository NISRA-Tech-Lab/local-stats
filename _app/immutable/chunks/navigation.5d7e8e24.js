import{S as ve,i as we,s as Ee,k as w,a as R,l as E,m as C,c as j,h as g,n as b,Z as L,b as N,C as k,G as A,D as Y,I as B,U as Ce,p as W,w as H,q as I,r as S,a6 as X,u as V,e as K,Y as ie}from"./index.baf6a862.js";import{j as Ne}from"./singletons.d3b3c41b.js";var x={},G={},J=34,Z=10,Q=13;function oe(l){return new Function("d","return {"+l.map(function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'}).join(",")+"}")}function Te(l,e){var t=oe(l);return function(n,s){return e(t(n),s,l)}}function $(l){var e=Object.create(null),t=[];return l.forEach(function(n){for(var s in n)s in e||t.push(e[s]=s)}),t}function y(l,e){var t=l+"",n=t.length;return n<e?new Array(e-n+1).join(0)+t:t}function ye(l){return l<0?"-"+y(-l,6):l>9999?"+"+y(l,6):y(l,4)}function Ae(l){var e=l.getUTCHours(),t=l.getUTCMinutes(),n=l.getUTCSeconds(),s=l.getUTCMilliseconds();return isNaN(l)?"Invalid Date":ye(l.getUTCFullYear())+"-"+y(l.getUTCMonth()+1,2)+"-"+y(l.getUTCDate(),2)+(s?"T"+y(e,2)+":"+y(t,2)+":"+y(n,2)+"."+y(s,3)+"Z":n?"T"+y(e,2)+":"+y(t,2)+":"+y(n,2)+"Z":t||e?"T"+y(e,2)+":"+y(t,2)+"Z":"")}function qe(l){var e=new RegExp('["'+l+`
\r]`),t=l.charCodeAt(0);function n(a,h){var p,_,d=s(a,function(v,T){if(p)return p(v,T-1);_=v,p=h?Te(v,h):oe(v)});return d.columns=_||[],d}function s(a,h){var p=[],_=a.length,d=0,v=0,T,P=_<=0,q=!1;a.charCodeAt(_-1)===Z&&--_,a.charCodeAt(_-1)===Q&&--_;function D(){if(P)return G;if(q)return q=!1,x;var O,U=d,M;if(a.charCodeAt(U)===J){for(;d++<_&&a.charCodeAt(d)!==J||a.charCodeAt(++d)===J;);return(O=d)>=_?P=!0:(M=a.charCodeAt(d++))===Z?q=!0:M===Q&&(q=!0,a.charCodeAt(d)===Z&&++d),a.slice(U+1,O-1).replace(/""/g,'"')}for(;d<_;){if((M=a.charCodeAt(O=d++))===Z)q=!0;else if(M===Q)q=!0,a.charCodeAt(d)===Z&&++d;else if(M!==t)continue;return a.slice(U,O)}return P=!0,a.slice(U,_)}for(;(T=D())!==G;){for(var F=[];T!==x&&T!==G;)F.push(T),T=D();h&&(F=h(F,v++))==null||p.push(F)}return p}function i(a,h){return a.map(function(p){return h.map(function(_){return m(p[_])}).join(l)})}function r(a,h){return h==null&&(h=$(a)),[h.map(m).join(l)].concat(i(a,h)).join(`
`)}function u(a,h){return h==null&&(h=$(a)),i(a,h).join(`
`)}function o(a){return a.map(f).join(`
`)}function f(a){return a.map(m).join(l)}function m(a){return a==null?"":a instanceof Date?Ae(a):e.test(a+="")?'"'+a.replace(/"/g,'""')+'"':a}return{parse:n,parseRows:s,format:r,formatBody:u,formatRows:o,formatRow:f,formatValue:m}}var Ie=qe(","),Se=Ie.parse;function De(l){for(var e in l){var t=l[e].trim(),n,s;if(!t)t=null;else if(t==="true")t=!0;else if(t==="false")t=!1;else if(t==="NaN")t=NaN;else if(!isNaN(n=+t))t=n;else if(s=t.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))Le&&s[4]&&!s[7]&&(t=t.replace(/-/g,"/").replace(/T/," ")),t=new Date(t);else continue;l[e]=t}return l}const Le=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();async function Ge(l,e=window.fetch){let n=await(await e(l)).text();return await Se(n,De)}function Je(l){let e=Math.round(l)%10;return l==11?"th":e==1?"st":e==2?"nd":e==3?"rd":"th"}function Qe(l){return l>0?"increase":l<0?"decrease":"nochange"}function We(l,e="",t=0){return l!=0?Math.abs(l).toFixed(t)+e:e=="pp"?"n/c":"No change"}function Xe(l,e="",t=0){return l!=0?Math.abs(l).toFixed(t)+e:e=="pp"?"n/c":"<1%)"}function ee(l,e,t){const n=l.slice();return n[34]=e[t],n[37]=e,n[36]=t,n}function te(l,e,t){const n=l.slice();return n[34]=e[t],n[35]=e,n[36]=t,n}function Ue(l){let e,t,n,s,i,r,u;return{c(){e=w("a"),t=w("input"),n=R(),s=w("span"),i=I(" "),this.h()},l(o){e=E(o,"A",{id:!0,class:!0});var f=C(e);t=E(f,"INPUT",{type:!0,placeholder:!0,autocomplete:!0,onfocus:!0,class:!0}),n=j(f),s=E(f,"SPAN",{class:!0});var m=C(s);i=S(m," "),m.forEach(g),f.forEach(g),this.h()},h(){b(t,"type","text"),b(t,"placeholder",l[0]),b(t,"autocomplete","false"),t.autofocus="autofocus",b(t,"onfocus","this.select()"),b(t,"class","svelte-1sq8f31"),b(s,"class","button svelte-1sq8f31"),L(s,"search",l[3]),L(s,"down",!l[3]),b(e,"id","toggle"),b(e,"class","svelte-1sq8f31")},m(o,f){N(o,e,f),k(e,t),X(t,l[4]),l[25](t),k(e,n),k(e,s),k(s,i),t.focus(),r||(u=[A(t,"keydown",l[13]),A(t,"input",l[24]),A(t,"keyup",l[17]),A(e,"click",l[12]),A(e,"focus",l[12])],r=!0)},p(o,f){f[0]&1&&b(t,"placeholder",o[0]),f[0]&16&&t.value!==o[4]&&X(t,o[4]),f[0]&8&&L(s,"search",o[3]),f[0]&8&&L(s,"down",!o[3])},d(o){o&&g(e),l[25](null),r=!1,B(u)}}}function Pe(l){let e,t,n=l[5][l[1]]+"",s,i,r,u,o,f,m,a=l[2]&&le(l);return{c(){e=w("a"),t=w("span"),s=I(n),i=R(),a&&a.c(),r=R(),u=w("span"),o=I(" "),this.h()},l(h){e=E(h,"A",{id:!0,class:!0});var p=C(e);t=E(p,"SPAN",{class:!0});var _=C(t);s=S(_,n),i=j(_),a&&a.l(_),_.forEach(g),r=j(p),u=E(p,"SPAN",{class:!0});var d=C(u);o=S(d," "),d.forEach(g),p.forEach(g),this.h()},h(){b(t,"class","selection svelte-1sq8f31"),b(u,"class","button close svelte-1sq8f31"),b(e,"id","toggle"),b(e,"class","selected svelte-1sq8f31")},m(h,p){N(h,e,p),k(e,t),k(t,s),k(t,i),a&&a.m(t,null),k(e,r),k(e,u),k(u,o),f||(m=[A(u,"click",l[15]),A(e,"click",l[12])],f=!0)},p(h,p){p[0]&34&&n!==(n=h[5][h[1]]+"")&&V(s,n),h[2]?a?a.p(h,p):(a=le(h),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(h){h&&g(e),a&&a.d(),f=!1,B(m)}}}function le(l){let e,t=l[5][l[2]]+"",n;return{c(){e=w("small"),n=I(t),this.h()},l(s){e=E(s,"SMALL",{class:!0});var i=C(e);n=S(i,t),i.forEach(g),this.h()},h(){b(e,"class","svelte-1sq8f31")},m(s,i){N(s,e,i),k(e,n)},p(s,i){i[0]&36&&t!==(t=s[5][s[2]]+"")&&V(n,t)},d(s){s&&g(e)}}}function ne(l){let e,t;function n(r,u){return r[4].length<3?Ve:r[8][0]&&r[2]?Me:r[8][0]?je:Re}let s=n(l),i=s(l);return{c(){e=w("div"),t=w("ul"),i.c(),this.h()},l(r){e=E(r,"DIV",{id:!0,style:!0,class:!0});var u=C(e);t=E(u,"UL",{class:!0});var o=C(t);i.l(o),o.forEach(g),u.forEach(g),this.h()},h(){b(t,"class","svelte-1sq8f31"),b(e,"id","dropdown"),W(e,"top","0"),W(e,"margin-top","50px"),b(e,"class","svelte-1sq8f31")},m(r,u){N(r,e,u),k(e,t),i.m(t,null),l[32](e)},p(r,u){s===(s=n(r))&&i?i.p(r,u):(i.d(1),i=s(r),i&&(i.c(),i.m(t,null)))},d(r){r&&g(e),i.d(),l[32](null)}}}function Re(l){let e,t;return{c(){e=w("li"),t=I("No results"),this.h()},l(n){e=E(n,"LI",{class:!0});var s=C(e);t=S(s,"No results"),s.forEach(g),this.h()},h(){b(e,"class","svelte-1sq8f31")},m(n,s){N(n,e,s),k(e,t)},p:Y,d(n){n&&g(e)}}}function je(l){let e,t=l[8],n=[];for(let s=0;s<t.length;s+=1)n[s]=se(ee(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=K()},l(s){for(let i=0;i<n.length;i+=1)n[i].l(s);e=K()},m(s,i){for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(s,i);N(s,e,i)},p(s,i){if(i[0]&18818){t=s[8];let r;for(r=0;r<t.length;r+=1){const u=ee(s,t,r);n[r]?n[r].p(u,i):(n[r]=se(u),n[r].c(),n[r].m(e.parentNode,e))}for(;r<n.length;r+=1)n[r].d(1);n.length=t.length}},d(s){ie(n,s),s&&g(e)}}}function Me(l){let e,t=l[8],n=[];for(let s=0;s<t.length;s+=1)n[s]=re(te(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=K()},l(s){for(let i=0;i<n.length;i+=1)n[i].l(s);e=K()},m(s,i){for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(s,i);N(s,e,i)},p(s,i){if(i[0]&18822){t=s[8];let r;for(r=0;r<t.length;r+=1){const u=te(s,t,r);n[r]?n[r].p(u,i):(n[r]=re(u),n[r].c(),n[r].m(e.parentNode,e))}for(;r<n.length;r+=1)n[r].d(1);n.length=t.length}},d(s){ie(n,s),s&&g(e)}}}function Ve(l){let e,t;return{c(){e=w("li"),t=I("Type a name..."),this.h()},l(n){e=E(n,"LI",{class:!0});var s=C(e);t=S(s,"Type a name..."),s.forEach(g),this.h()},h(){b(e,"class","svelte-1sq8f31")},m(n,s){N(n,e,s),k(e,t)},p:Y,d(n){n&&g(e)}}}function se(l){let e,t=l[34][l[1]]+"",n,s,i=l[36],r,u;function o(){return l[29](l[34])}function f(){return l[30](l[36])}const m=()=>l[31](e,i),a=()=>l[31](null,i);return{c(){e=w("li"),n=I(t),s=R(),this.h()},l(h){e=E(h,"LI",{class:!0});var p=C(e);n=S(p,t),s=j(p),p.forEach(g),this.h()},h(){b(e,"class","svelte-1sq8f31"),L(e,"highlight",l[7]==l[36])},m(h,p){N(h,e,p),k(e,n),k(e,s),m(),r||(u=[A(e,"click",o),A(e,"mouseover",f)],r=!0)},p(h,p){l=h,p[0]&258&&t!==(t=l[34][l[1]]+"")&&V(n,t),i!==l[36]&&(a(),i=l[36],m()),p[0]&128&&L(e,"highlight",l[7]==l[36])},d(h){h&&g(e),a(),r=!1,B(u)}}}function Fe(l){let e,t,n=l[34][l[1]]+"",s,i,r=l[34][l[2]]+"",u;return{c(){e=w("span"),t=I("View: "),s=I(n),i=R(),u=I(r),this.h()},l(o){e=E(o,"SPAN",{class:!0});var f=C(e);t=S(f,"View: "),s=S(f,n),i=j(f),u=S(f,r),f.forEach(g),this.h()},h(){b(e,"class","view svelte-1sq8f31")},m(o,f){N(o,e,f),k(e,t),k(e,s),k(e,i),k(e,u)},p(o,f){f[0]&258&&n!==(n=o[34][o[1]]+"")&&V(s,n),f[0]&260&&r!==(r=o[34][o[2]]+"")&&V(u,r)},d(o){o&&g(e)}}}function Oe(l){let e,t=l[34][l[1]]+"",n,s,i,r=l[34][l[2]]+"",u;return{c(){e=w("small"),n=I(t),s=R(),i=w("span"),u=I(r),this.h()},l(o){e=E(o,"SMALL",{class:!0});var f=C(e);n=S(f,t),f.forEach(g),s=j(o),i=E(o,"SPAN",{class:!0});var m=C(i);u=S(m,r),m.forEach(g),this.h()},h(){b(e,"class","svelte-1sq8f31"),b(i,"class","view svelte-1sq8f31")},m(o,f){N(o,e,f),k(e,n),N(o,s,f),N(o,i,f),k(i,u)},p(o,f){f[0]&258&&t!==(t=o[34][o[1]]+"")&&V(n,t),f[0]&260&&r!==(r=o[34][o[2]]+"")&&V(u,r)},d(o){o&&g(e),o&&g(s),o&&g(i)}}}function re(l){let e,t,n,s=l[36],i,r;function u(_,d){return d[0]&260&&(t=null),t==null&&(t=_[34][_[2]].slice(0,4)=="View"),t?Oe:Fe}let o=u(l,[-1,-1]),f=o(l);function m(){return l[26](l[34])}function a(){return l[27](l[36])}const h=()=>l[28](e,s),p=()=>l[28](null,s);return{c(){e=w("li"),f.c(),n=R(),this.h()},l(_){e=E(_,"LI",{class:!0});var d=C(e);f.l(d),n=j(d),d.forEach(g),this.h()},h(){b(e,"class","svelte-1sq8f31"),L(e,"highlight",l[7]==l[36])},m(_,d){N(_,e,d),f.m(e,null),k(e,n),h(),i||(r=[A(e,"click",m),A(e,"mouseover",a)],i=!0)},p(_,d){l=_,o===(o=u(l,d))&&f?f.p(l,d):(f.d(1),f=o(l),f&&(f.c(),f.m(e,n))),s!==l[36]&&(p(),s=l[36],h()),d[0]&128&&L(e,"highlight",l[7]==l[36])},d(_){_&&g(e),f.d(),p(),i=!1,B(r)}}}function Ze(l){let e,t,n,s;function i(f,m){return f[5]&&!f[3]?Pe:Ue}let r=i(l),u=r(l),o=l[6]&&ne(l);return{c(){e=w("div"),u.c(),t=R(),o&&o.c(),this.h()},l(f){e=E(f,"DIV",{id:!0,class:!0});var m=C(e);u.l(m),t=j(m),o&&o.l(m),m.forEach(g),this.h()},h(){b(e,"id","select"),b(e,"class","svelte-1sq8f31"),L(e,"active",l[6])},m(f,m){N(f,e,m),u.m(e,null),k(e,t),o&&o.m(e,null),n||(s=[A(window,"click",l[18]),A(e,"keydown",l[16])],n=!0)},p(f,m){r===(r=i(f))&&u?u.p(f,m):(u.d(1),u=r(f),u&&(u.c(),u.m(e,t))),f[6]?o?o.p(f,m):(o=ne(f),o.c(),o.m(e,null)):o&&(o.d(1),o=null),m[0]&64&&L(e,"active",f[6])},i:Y,o:Y,d(f){f&&g(e),u.d(),o&&o.d(),n=!1,B(s)}}}function Be(l){return new Promise(e=>setTimeout(e,l))}function He(l){return l.length>5&&l.substr(0,2).toUpperCase()=="BT"&&l.indexOf(" ")==-1&&(l=l.slice(0,-3)+" "+l.substr(-3)),l}function Ye(l,e,t){let n;const s=Ce();let{search_data:i}=e,{selected:r=null}=e,{placeholder:u="Enter a town, postcode or area name"}=e,{value:o="code"}=e,{label:f="name"}=e,{group:m=null}=e,{search:a=!1}=e,h=r,p=r?i.find(c=>{c[o]==r[o]}):null,_=!1,d="",v=null,T,P,q,D=[];function F(c){c.stopPropagation(),t(4,d=""),t(6,_=!_),Be(10).then(()=>{q&&_&&q.focus()})}function O(c){t(6,_=!0)}function U(c){t(19,r=c),t(6,_=!1),s("select",{selected:c,value:c[o]})}function M(c){c.stopPropagation(),t(19,r=null),t(22,h=null),t(5,p=null),s("select",{selected:null,value:null})}function fe(c){_&&T[0]&&Number.isInteger(v)&&(c.keyCode===38?(t(7,v-=v>0?1:0),D[v].scrollIntoView({block:"nearest",inline:"start"})):c.keyCode===40&&(t(7,v+=v<T.length-1?1:0),D[v].scrollIntoView({block:"nearest",inline:"end"})))}function ae(c){T[0]&&Number.isInteger(v)&&c.keyCode===13&&U(T[v])}function ue(c){c.target!==P&&(t(6,_=!1),t(7,v=0))}function ce(){d=this.value,t(4,d)}function he(c){H[c?"unshift":"push"](()=>{q=c,t(10,q)})}const _e=c=>U(c),de=c=>t(7,v=c);function pe(c,z){H[c?"unshift":"push"](()=>{D[z]=c,t(11,D)})}const me=c=>U(c),ge=c=>t(7,v=c);function be(c,z){H[c?"unshift":"push"](()=>{D[z]=c,t(11,D)})}function ke(c){H[c?"unshift":"push"](()=>{P=c,t(9,P)})}return l.$$set=c=>{"search_data"in c&&t(20,i=c.search_data),"selected"in c&&t(19,r=c.selected),"placeholder"in c&&t(0,u=c.placeholder),"value"in c&&t(21,o=c.value),"label"in c&&t(1,f=c.label),"group"in c&&t(2,m=c.group),"search"in c&&t(3,a=c.search)},l.$$.update=()=>{l.$$.dirty[0]&16&&t(23,n=d?new RegExp(He(d),"i"):null),l.$$.dirty[0]&9437186&&(t(8,T=n?i.filter(c=>n.test(c[f])):i),t(7,v=0)),l.$$.dirty[0]&7864320&&h!=r&&(t(5,p=i.find(c=>c[o]==r[o])),t(22,h=r))},[u,f,m,a,d,p,_,v,T,P,q,D,F,O,U,M,fe,ae,ue,r,i,o,h,n,ce,he,_e,de,pe,me,ge,be,ke]}class xe extends ve{constructor(e){super(),we(this,e,Ye,Ze,Ee,{search_data:20,selected:19,placeholder:0,value:21,label:1,group:2,search:3},null,[-1,-1])}}const $e=Ne("goto");export{xe as S,$e as a,Qe as b,Xe as c,We as d,Ge as g,Je as s};
